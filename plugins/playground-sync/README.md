# playground-sync

Transport server that bridges playground HTML files with Claude Code. Playgrounds can send prompts to Claude via a local HTTP server, and Claude can retrieve them via MCP tools.

## How it works

1. A playground HTML file (generated by the `playground` skill) has a "Send to Claude" button
2. Clicking it POSTs the prompt to `localhost:4242/prompt`
3. Claude retrieves pending prompts via MCP tools (`playground_get_prompt`, `playground_list_pending`)
4. After processing, Claude clears the prompt (`playground_clear`)

If the server isn't running, the button gracefully falls back to showing "No server" and the user can still copy-paste.

## Burst mode

Run with `--burst` to automatically deliver prompts to Claude without manual intervention:

```bash
node dist/cli.js --burst
```

This polls for incoming prompts, batches them over a 10-second window, then spawns `claude --print --continue` to process them.

## HTTP endpoints

- `POST /prompt` — Submit a prompt `{ prompt, url, pathname }`
- `GET /events` — SSE stream for status updates
- `GET /health` — Server health and pending prompt count

## MCP tools

- `playground_get_prompt` — Get the oldest pending prompt
- `playground_list_pending` — List all pending prompts
- `playground_clear` — Clear prompts after processing
